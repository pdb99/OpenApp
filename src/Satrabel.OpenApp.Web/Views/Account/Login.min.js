$(function(){var n,t;$("#ReturnUrlHash").val(location.hash);n=$("#LoginForm");abp.session.tenantId&&abp.services.app.session.getCurrentLoginInformations().done(function(t){n.find("input[name=TenancyName]").val(t.tenant.tenancyName)});n.validate({highlight:function(n){$(n).parents(".form-line").addClass("error")},unhighlight:function(n){$(n).parents(".form-line").removeClass("error")},errorPlacement:function(n,t){$(t).parents(".input-group").append(n)}});t=function(){abp.ui.setBusy($("#LoginArea"),abp.ajax({contentType:"application/x-www-form-urlencoded",url:n.attr("action"),data:n.serialize()}))};n.submit(function(i){var r,u;if(i.preventDefault(),n.valid()){if(r=n.find("input[name=TenancyName]").val(),!r){abp.multiTenancy.setTenantIdCookie(null);t();return}u=abp.services.app.account;u.isTenantAvailable({tenancyName:r}).done(function(n){switch(n.state){case 1:abp.multiTenancy.setTenantIdCookie(n.tenantId);t();return;case 2:abp.message.warn(abp.utils.formatString(abp.localization.localize("TenantIsNotActive","OpenApp"),r));break;case 3:abp.message.warn(abp.utils.formatString(abp.localization.localize("ThereIsNoTenantDefinedWithName{0}","OpenApp"),r))}})}});$("a.social-login-link").click(function(){var n=$(this),t=n.closest("form");t.find("input[name=provider]").val(n.attr("data-provider"));t.submit()});$("#resend-email-button").click(function(){var n=$(this),t=n.closest("form");t.find("input[name=provider]").val(n.attr("data-provider"));t.submit()});n.find("input[type=text]:first-child").focus()});